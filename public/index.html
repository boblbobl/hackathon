<!DOCTYPE html>
<html>
<head>
  <title>Test</title>
  <script src="http://js.pusher.com/1.12/pusher.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
</head>
<body>
  <input id="message" type="text" value="test" /><input type="button" value="Test" onclick="return sendmessage();" />
  
  <script type="text/javascript">
    function sendmessage() {
      var message = $("#message").val();
      
      $.ajax({
        type: 'POST',
        url: '/post',
        data: {
          id: 'client-1',
          message: message
        },
        success: function() {
          console.log('posted message');
        }
      });
    }
  
    Pusher.log = function(message) {
      if (window.console && window.console.log) window.console.log(message);
    };
    WEB_SOCKET_DEBUG = true;
    
    var pusher = new Pusher('7227171dc0a29651a3a4');
    var channel = pusher.subscribe('my-channel');
    channel.bind('my-event', function(data) {
      alert('Message returned from Pusher: ' + data.message);
    });
  </script>
</body>
</html>